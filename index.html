<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Worm Colony</title>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="app">

    <!-- Top Bar -->
    <header class="topbar">
      <div class="brand">
        <img class="brand__icon" src="./logo.png" alt="Worm Colony logo" />
        <div class="brand__text">
          <div class="brand__title">Worm Colony</div>
          <div class="brand__sub">$WORM • LIVE COLONY</div>
        </div>
      </div>

      <div class="status">
        <span class="dot"></span>
        <span id="simStatus">Simulation Active</span>
      </div>
    </header>

    <!-- Simulation first (ALWAYS at top) -->
    <section class="simcard">
      <div class="simwrap">
        <canvas id="simCanvas" aria-label="Worm Colony Simulation"></canvas>

        <!-- Small overlay help text inside the sim card (not over the canvas drawing) -->
        <div class="simhint">
          Tap colonies • Drag pan • Pinch zoom • Double tap center
        </div>

        <!-- Debug / errors -->
        <div id="dbg" class="dbg">Loading…</div>
      </div>
    </section>

    <!-- UI below sim -->
    <section class="panel">

      <div class="grid2">
        <div class="stat">
          <div class="stat__label">Buyers</div>
          <div class="stat__value" id="buyers">0</div>
        </div>
        <div class="stat">
          <div class="stat__label">Volume</div>
          <div class="stat__value" id="volume">$0</div>
        </div>
        <div class="stat">
          <div class="stat__label">M Cap</div>
          <div class="stat__value" id="mcap">$0</div>
        </div>
        <div class="stat">
          <div class="stat__label">Colonies</div>
          <div class="stat__value" id="colonies">1</div>
        </div>
        <div class="stat">
          <div class="stat__label">Worms</div>
          <div class="stat__value" id="worms">3</div>
        </div>
        <div class="stat stat--wide">
          <div class="stat__label">Selected</div>
          <div class="stat__value" id="selectedName">Colony #1</div>
        </div>
      </div>

      <div class="inspect">
        <div class="inspect__title">Colony Traits</div>
        <div class="inspect__row">
          <div class="k">DNA</div>
          <div class="v" id="dna">—</div>
        </div>
        <div class="inspect__row">
          <div class="k">Biome</div>
          <div class="v" id="biome">—</div>
        </div>
        <div class="inspect__row">
          <div class="k">Style</div>
          <div class="v" id="style">—</div>
        </div>
        <div class="inspect__row">
          <div class="k">Temperament</div>
          <div class="v" id="temperament">—</div>
        </div>
      </div>

      <div class="btnGrid">
        <button class="btn btn--neon" data-action="feed">Feed</button>
        <button class="btn btn--neon btn--blue" data-action="smallBuy">Small Buy</button>
        <button class="btn btn--neon btn--purple" data-action="whaleBuy">Whale Buy</button>
        <button class="btn btn--neon btn--red" data-action="sell">Sell-off</button>

        <button class="btn btn--neon btn--amber" data-action="storm">Volume Storm</button>
        <button class="btn btn--neon" data-action="mutate">Mutate</button>
        <button class="btn btn--neon" data-action="focus" id="focusBtn">Focus: Off</button>
        <button class="btn btn--neon" data-action="zoomIn">Zoom +</button>

        <button class="btn btn--neon" data-action="zoomOut">Zoom −</button>
        <button class="btn btn--neon btn--blue" data-action="capture">Capture</button>
        <button class="btn btn--neon btn--red btn--wide" data-action="reset">Reset</button>
      </div>

      <div class="log">
        <div class="log__title">Mutation Log</div>
        <div id="log" class="log__body"></div>
      </div>

    </section>

  </div>

  <!-- IMPORTANT: load JS at end so elements exist -->
  <script src="./script.js"></script>
</body>
</html>
